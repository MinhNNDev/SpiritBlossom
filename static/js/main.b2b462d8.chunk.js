(this["webpackJsonplol.pre-heat-check-in-react"]=this["webpackJsonplol.pre-heat-check-in-react"]||[]).push([[0],{32:function(e,t,n){e.exports=n(56)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);for(var a=n(0),c=n.n(a),r=n(17),i=n.n(r),l=(n(37),n(38),n(39),n(40),n(8)),o=n(3),s=n.n(o),u=n(5),m=n(31),h=n(2),d=(n(42),function(e){var t=e.children,n=Object(a.useRef)(),r=Object(a.useState)(0),i=Object(h.a)(r,2),l=i[0],o=i[1],s=Object(a.useState)(0),u=Object(h.a)(s,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){var e=n.current,t=function(){var t=e.offsetHeight,n=e.scrollHeight,a=n-t,c=Math.pow(t,2)/n,r=(t-c)/a||0;d(c),o(e.scrollTop*r)};return t(),e.addEventListener("scroll",t,{passive:!0}),function(){return e.removeEventListener("scroll",t)}}),[n,t]),c.a.createElement("div",{className:"scrollable"},c.a.createElement("div",{ref:n,className:"content"},t),c.a.createElement("div",{className:"scrollbar"},c.a.createElement("div",{className:"thumb",style:{height:"".concat(m,"px"),transform:"translateY(".concat(l,"px)")}})))}),v=(n(43),n(44),function(e){var t=e.title,n=e.extraClass,a=e.onClick;return c.a.createElement("div",{className:"btn ".concat(n),onClick:a},t)}),p=function(e){var t=e.point,n=e.onClick;return c.a.createElement("div",{className:"btn btn-give",onClick:n},"T\u1eb7ng ",c.a.createElement("span",null,"+",t))},f=function(e){return c.a.createElement(v,Object.assign({title:"H\u1ee6Y",extraClass:"cancel"},e))},g=n(14),E=n(9),b=n(26),O=n(27),N=n(10),y=n(29),k=n(30),j=n.n(k).a.parse(window.location.search.slice(1)).token||null,w={origin:"https://sukien.lienminh.garena.vn"},_="/api/user/config",C="/api/user/draw",x="/api/user/get_inventory",S="/api/user/convert_to_reward",T="/api/user/convert_to_inevent",H="/api/user/give_to_character",L="/api/user/history",R=function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a,c,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},a=n.body,console.log("body",a),e.next=5,fetch("".concat(w.origin).concat(t),{method:a?"POST":"GET",headers:{"X-CSRFToken":y.get("csrftoken"),token:j,"content-type":a?"application/json":null},body:a?JSON.stringify(a):null,credentials:"same-origin"});case 5:return c=e.sent,e.abrupt("return",c.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={server_error:"Thao t\xe1c kh\xf4ng th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c, xin vui l\xf2ng th\u1eed l\u1ea1i sau.",invalid_action:"Thao t\xe1c kh\xf4ng th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c, xin vui l\xf2ng th\u1eed l\u1ea1i sau.",no_champion:"B\u1ea1n ch\u01b0a s\u1edf h\u1eefu t\u01b0\u1edbng",already_own:"Kh\xf4ng th\u1ec3 nh\u1eadn v\u1eadt ph\u1ea9m v\xec \u0111\xe3 s\u1edf h\u1eefu",not_enough_ip:"Kh\xf4ng \u0111\u1ee7 Tinh Hoa Lam",not_enough_rp:"Kh\xf4ng \u0111\u1ee7 RP",api_error:"Thao t\xe1c kh\xf4ng th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c, xin vui l\xf2ng th\u1eed l\u1ea1i sau.",event_ended:"S\u1ef1 ki\u1ec7n \u0111\xe3 k\u1ebft th\xfac","invalid-token":"B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp",limit_convert:"S\u1ed1 l\u01b0\u1ee3ng v\u01b0\u1ee3t qu\xe1 gi\u1edbi h\u1ea1n \u0111\u1ed5i 1 l\u1ea7n"},I=function(e,t){return{type:"GIVE",payload:{characterId:e,point:t}}},K=function(e){return function(){var t=Object(u.a)(s.a.mark((function t(n,a){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(C,{body:{n_draw:e}});case 2:if(c=t.sent,console.log("data",c),c){t.next=6;break}return t.abrupt("return");case 6:"successful"==c.status?(ve(c.payload.random_items),n({type:"DRAW",payload:c.payload})):D(c.error_code);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},A=function(e){return{type:"SET_SELECTED_CHARACTER",payload:e}},D=function(e){fe(e in M?M[e]:M.server_error,!1)},P=[],q=0;q<=30;q++)P.push({id:q,image:"/images/reward-img.png",name:"AAAAA",selected:!1});var G={user:null,character_list:[],selectedCharacterID:null,specials:[],remain_second:null,inventory:P,price:{1:null,10:null},history:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"LOAD_CONFIG":return Object(N.a)({},e,{},a);case"SET_SELECTED_CHARACTER":return Object(N.a)({},e,{selectedCharacterID:a});case"CLICK_REWARD":var c,r=e.inventory,i=[],o=Object(l.a)(r);try{for(o.s();!(c=o.n()).done;){var s=c.value;s.id==a.id&&(s.selected=!s.selected),i.push(s)}}catch(v){o.e(v)}finally{o.f()}return Object(N.a)({},e,{inventory:i});case"DRAW":return Object(N.a)({},e,{rp:a.remain_rp});case"HISTORY":return Object(N.a)({},e,{history:a});case"GIVE":var u,m=JSON.parse(JSON.stringify(e.character_list)),h=Object(l.a)(m);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.id===a.characterId&&(d.user_point=a.point)}}catch(v){h.e(v)}finally{h.f()}return console.log("equal",e.character_list===m),Object(N.a)({},e,{character_list:m})}return e},W=Object(E.combineReducers)({currentUser:B}),J=Object(E.createStore)(W,Object(O.composeWithDevTools)(Object(E.applyMiddleware)(b.a))),V=function(e){return e.currentUser},X=function(e){return e.currentUser.character_list},Q=Object(g.a)([function(e){return e.currentUser.selectedCharacterID},X],(function(e,t){return t.find((function(t){return t.id===e}))})),U=Object(g.a)(Q,(function(e){return e&&e.user_point})),Y=Object(g.a)([Q,U],(function(e,t){var n=0;if(e){var a,c=e.level_rewards,r=Object(l.a)(c);try{for(r.s();!(a=r.n()).done;){var i=a.value;t>=i.require_point&&n<i.level&&(n=i.level)}}catch(o){r.e(o)}finally{r.f()}}return n})),z=Object(g.a)([Q],(function(e){var t=0;if(e){var n,a=e.level_rewards,c=Object(l.a)(a);try{for(c.s();!(n=c.n()).done;){t=n.value.require_point}}catch(r){c.e(r)}finally{c.f()}}return t})),F=Object(g.a)([Q,U],(function(e,t){var n=0;if(e){var a,c=e.level_rewards,r=Object(l.a)(c);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(n=i.require_point,i.require_point>t)break}}catch(o){r.e(o)}finally{r.f()}}return n})),$=n(1),Z={},ee=function(e,t,n){var a=Z.setTitle,c=Z.setDescription;if(a){if(!e)return console.log("no title"),void a(null);a(e),c(t),function(e){var t=Z.setRect,n=e.getBoundingClientRect();t({height:n.height,left:n.left,top:n.top})}(n)}else console.log("no set title")},te=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),o=l[0],s=l[1],u=Object(a.useState)(null),m=Object(h.a)(u,2),d=m[0],v=m[1];return Z.setTitle=r,Z.setDescription=s,Z.setRect=v,console.log("title",n,"rect",d),n&&d?c.a.createElement("div",{className:"hover-tooltip",style:d},c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"title"},n),o&&c.a.createElement("div",{className:"description"},o))):null},ne=function(e){var t=e.title,n=e.description,a=e.children;return c.a.createElement("div",{className:"hover-card",onMouseOver:function(e){var a=e.target;console.log("mouse enter",t,a),ee(t,n,a)},onMouseOut:function(){console.log("mouse out"),ee(null)}},a)},ae={},ce=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];return ae.openPopup=function(e){return r([].concat(Object(m.a)(n),[e]))},ae.closePopup=function(){return r(n.slice(0,n.length-1))},ae.getCurrentPopup=function(){return n[0]||null},n.length>0?c.a.createElement(c.a.Fragment,null,n.map((function(e,t){return c.a.createElement("div",{className:"normal-popup",key:t},c.a.createElement("div",{className:"content"},e))}))):null},re=function(e){return ae.openPopup(e)},ie=function(){return ae.closePopup()},le=function(e){var t=e.onClose;return c.a.createElement("div",{className:"close",onClick:function(){ie(),t&&t()}})},oe=function(e,t){re(c.a.createElement("div",{className:"rule-popups"},c.a.createElement("div",{className:"rule-content"},c.a.createElement("div",{className:"title"},e),c.a.createElement("div",{className:"title-line"}),c.a.createElement("div",{className:"body"},c.a.createElement(d,null,t))),c.a.createElement(le,null)))},se=function(){return c.a.createElement("div",{className:"rule-table"},c.a.createElement("h3",null,"Th\u1eddi Gian S\u1ef1 Ki\u1ec7n:"),c.a.createElement("p",null,"23/07/2020 ~ 19/08/2020"),c.a.createElement("h3",null,"N\u1ed9i Dung S\u1ef1 Ki\u1ec7n:"),c.a.createElement("ol",null,c.a.createElement("li",null,"D\xf9ng 20 RP \u0111\u1ec3 r\xfat 1 t\u1eb7ng ph\u1ea9m ho\u1eb7c v\u1eadt ph\u1ea9m ng\u1eabu nhi\xean. B\u1ea1n c\xf3 th\u1ec3 r\xfat 10 l\u1ea7n v\u1edbi gi\xe1 r\u1ebb h\u01a1n, ch\u1ec9 190 RP."),c.a.createElement("li",null,"T\u1eb7ng ph\u1ea9m l\xe0 nh\u1eefng m\xf3n \u0111\u1ed3 ch\u1ec9 d\xf9ng \u0111\u01b0\u1ee3c trong s\u1ef1 ki\u1ec7n Hoa Linh L\u1eef Qu\xe1n. G\u1eedi t\u1eb7ng ph\u1ea9m cho nh\xe2n v\u1eadt \u0111\u1ec3 t\u0103ng \u0111\u1ed9 th\xe2n thi\u1ec7n. \u0110\u1ed9 th\xe2n thi\u1ec7n \u0111\u1ea1t m\u1ed1c s\u1ebd t\u0103ng c\u1ea5p th\xe2n thi\u1ec7n c\u1ee7a nh\xe2n v\u1eadt. M\u1ed7i l\u1ea7n nh\xe2n v\u1eadt l\xean c\u1ea5p th\xe2n thi\u1ec7n, h\u1ecd s\u1ebd t\u1eb7ng l\u1ea1i cho b\u1ea1n m\u1ed9t ph\u1ea7n qu\xe0 gi\xe1 tr\u1ecb, cao nh\u1ea5t l\xe0 trang ph\u1ee5c Hoa Linh L\u1ee5c \u0110\u1ecba t\u01b0\u01a1ng \u1ee9ng v\u1edbi nh\xe2n v\u1eadt."),c.a.createElement("li",null,"B\u1ea1n c\xf3 th\u1ec3 g\u1eedi t\u1eb7ng ph\u1ea9m cho c\xe1c nh\xe2n v\u1eadt b\u1eb1ng c\xe1ch ch\u1ecdn nh\xe2n v\u1eadt m\xecnh mu\u1ed1n r\u1ed3i b\u1ea5m n\xfat T\u1eb6NG QU\xc0. \u1ede b\u1ea3ng T\u1eb7ng Qu\xe0 v\u1eeba hi\u1ec7n l\xean, b\u1ea1n c\xf3 th\u1ec3 ch\u1ecdn c\xe1c t\u1eb7ng ph\u1ea9m m\xecnh mu\u1ed1n g\u1eedi r\u1ed3i b\u1ea5m n\xfat T\u1eb6NG. Ch\xfa \xfd s\u1ed1 b\xean c\u1ea1nh n\xfat T\u1eb6NG nh\xe9, n\xf3 cho b\u1ea1n bi\u1ebft nh\u1eefng t\u1eb7ng ph\u1ea9m b\u1ea1n \u0111\u1ecbnh g\u1eedi gi\xfap t\u0103ng bao nhi\xeau \u0111i\u1ec3m th\xe2n thi\u1ec7n v\u1edbi nh\xe2n v\u1eadt \u0111\xf3."),c.a.createElement("li",null,"C\xf3 nhi\u1ec1u lo\u1ea1i t\u1eb7ng ph\u1ea9m kh\xe1c nhau, chia l\xe0m 3 c\u1ea5p \u0111\u1ed9. C\u1ea5p 1/2/3 gi\xfap t\u0103ng 20/40/60 \u0111i\u1ec3m th\xe2n thi\u1ec7n. ",c.a.createElement("b",null,"N\u1ebfu l\xe0 t\u1eb7ng ph\u1ea9m t\u01b0\u01a1ng \u1ee9ng v\u1edbi nh\xe2n v\u1eadt \u0111\u01b0\u1ee3c t\u1eb7ng, \u0111i\u1ec3m th\xe2n thi\u1ec7n s\u1ebd \u0111\u01b0\u1ee3c t\u0103ng th\xe0nh 30/60/90 \u0111i\u1ec3m.")),c.a.createElement("li",null,c.a.createElement("b",null,"Khi \u0111\u1ea1t c\u1ea5p th\xe2n thi\u1ec7n cao nh\u1ea5t, ti\u1ebfp t\u1ee5c g\u1eedi t\u1eb7ng ph\u1ea9m cho nh\xe2n v\u1eadt s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c th\xeam g\xec. Xin h\xe3y l\u01b0u \xfd!")),c.a.createElement("li",null,"V\u1eadt ph\u1ea9m l\xe0 nh\u1eefng m\xf3n \u0111\u1ed3 trong Li\xean Minh Huy\u1ec1n Tho\u1ea1i, c\xf3 th\u1ec3 l\xe0: R\u01b0\u01a1ng Hextech, Ch\xeca Kh\xf3a Hextech, 30 Tinh Hoa Cam, 30 K\u1ec9 v\u1eadt Hoa Linh, Bi\u1ec3u C\u1ea3m K\u1ef3 B\xed, M\u1ea3nh M\u1eabu M\u1eaft K\u1ef3 B\xed."),c.a.createElement("li",null,"V\u1eadt ph\u1ea9m nh\u1eadn \u0111\u01b0\u1ee3c s\u1ebd n\u1eb1m trong Kho \u0110\u1ed3. B\u1ea1n c\xf3 th\u1ec3 v\xe0o Kho \u0110\u1ed3 \u0111\u1ec3 ch\u1ecdn g\u1eedi v\u1eadt ph\u1ea9m \u0111\xf3 \u0111\u1ebfn t\xe0i kho\u1ea3n ho\u1eb7c \u0111\u1ed5i 3 v\u1eadt ph\u1ea9m th\xe0nh 1 t\u1eb7ng ph\u1ea9m c\u1ea5p 3 ng\u1eabu nhi\xean."),c.a.createElement("li",null,"Khi m\u1edf kh\xf3a c\u1ea3 5 trang ph\u1ee5c Hoa Linh L\u1ee5c \u0110\u1ecba \u0111\u1ee3t 1, b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c \u0111a s\u1eafc Nham Tinh v\xe0 H\u1ed3ng Tinh cho c\xe1c trang ph\u1ee5c n\xe0y (tr\u1eeb Teemo Phong Linh Ti\u1ec3u Qu\xe1i). Ph\u1ea7n th\u01b0\u1edfng s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\xe0o th\u1ee9 7 h\xe0ng tu\u1ea7n."),c.a.createElement("li",null,"Khi m\u1edf kh\xf3a c\u1ea3 4 trang ph\u1ee5c Hoa Linh L\u1ee5c \u0110\u1ecba \u0111\u1ee3t 2, b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c \u0111a s\u1eafc Nham Tinh v\xe0 H\u1ed3ng Tinh cho c\xe1c trang ph\u1ee5c n\xe0y. Ph\u1ea7n th\u01b0\u1edfng s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\xe0o th\u1ee9 7 h\xe0ng tu\u1ea7n."),c.a.createElement("li",null,"C\xe1c trang ph\u1ee5c Hoa Linh L\u1ee5c \u0110\u1ecba s\u1ebd kh\xf4ng c\xf3 trong C\u1eeda H\xe0ng v\xe0 trong Ch\u1ebf T\u1ea1o Hextech m\xe0 ch\u1ec9 xu\u1ea5t hi\u1ec7n trong c\xe1c s\u1ef1 ki\u1ec7n \u0111\u1eb7c bi\u1ec7t.")),"L\u01b0u \xdd:",c.a.createElement("ol",null,c.a.createElement("li",null,"Ph\u1ea7n th\u01b0\u1edfng s\u1ef1 ki\u1ec7n ch\u1ec9 c\xf3 hi\u1ec7u l\u1ef1c trong th\u1eddi gian s\u1ef1 ki\u1ec7n di\u1ec5n ra. Vui l\xf2ng nh\u1eadn ph\u1ea7n th\u01b0\u1edfng tr\u01b0\u1edbc khi s\u1ef1 ki\u1ec7n k\u1ebft th\xfac."),c.a.createElement("li",null,"S\u1ef1 ki\u1ec7n d\u1ef1a tr\xean x\xe1c su\u1ea5t ng\u1eabu nhi\xean. Vui l\xf2ng c\xe2n nh\u1eafc tr\u01b0\u1edbc khi tham gia."),c.a.createElement("li",null,"H\u1ec7 th\u1ed1ng s\u1ebd g\u1eedi v\u1eadt ph\u1ea9m tr\u1ef1c ti\u1ebfp \u0111\u1ebfn t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n. Qu\xe1 tr\xecnh n\xe0y c\xf3 th\u1ec3 m\u1ea5t t\u1ed1i \u0111a 1 ng\xe0y. Xin h\xe3y ki\xean nh\u1eabn nh\xe9."),c.a.createElement("li",null,"Tr\u01b0\u1eddng h\u1ee3p l\u1ee3i d\u1ee5ng l\u1ed7i s\u1ef1 ki\u1ec7n s\u1ebd b\u1ecb x\u1eed l\xfd theo quy \u0111\u1ecbnh c\u1ee7a Li\xean Minh Huy\u1ec1n Tho\u1ea1i, t\xf9y theo t\xednh ch\u1ea5t v\xe0 m\u1ee9c \u0111\u1ed9 vi ph\u1ea1m. L\u1ed7i s\u1ef1 ki\u1ec7n l\xe0 nh\u1eefng tr\u01b0\u1eddng h\u1ee3p s\u1ef1 ki\u1ec7n ho\u1ea1t \u0111\u1ed9ng kh\xf4ng \u0111\xfang theo m\xf4 t\u1ea3 s\u1ef1 ki\u1ec7n trong Th\u1ec3 L\u1ec7."),c.a.createElement("li",null,"N\u1ebfu g\u1eb7p v\u1ea5n \u0111\u1ec1 trong s\u1ef1 ki\u1ec7n. Vui l\xf2ng li\xean h\u1ec7 ",c.a.createElement("a",{href:"https://hotro.garena.vn",target:"_blank"},"Ch\u0103m S\xf3c Kh\xe1ch H\xe0ng")," \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.")))},ue=function(){var e=Object($.c)(V).history,t=Object($.b)();Object(a.useEffect)((function(){t(function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(L);case 2:if(a=e.sent,console.log("data",a),a){e.next=6;break}return e.abrupt("return");case 6:"successful"==a.status?t({type:"HISTORY",payload:a.payload}):D(a.error_code);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[0]);var n={convert_to_reward:"G\u1eedi t\u1eeb kho \u0111\u1ed3",level_reward:"Qu\xe0 m\u1ed1c th\xe2n thi\u1ec7n"};return c.a.createElement("div",{className:"history-popup"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("th",null,"Th\u1eddi gian"),c.a.createElement("th",null,"Ngu\u1ed3n"),c.a.createElement("th",null,"T\xean v\u1eadt ph\u1ea9m"),c.a.createElement("th",null,"Tr\u1ea1ng th\xe1i")),e&&e.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("th",null,e.create_time.substr(0,16)),c.a.createElement("th",null,n[e.type]),c.a.createElement("th",null,e.name),c.a.createElement("th",null,"success"===e.status?"\u0110\xe3 g\u1eedi":"\u0110ang g\u1eedi"))}))))},me=function(e){var t=e.item,n=e.clickReward,r=Object(a.useState)(!1),i=Object(h.a)(r,2),l=i[0],o=i[1];return c.a.createElement(ne,{title:t.name||t.detail.name},c.a.createElement("div",{className:"reward-wrap",onClick:n?function(){console.log("click selected",t);var e=l;o(!l),!1===n(t)&&(console.log("parent update not ok"),o(e))}:null},c.a.createElement("div",{className:"reward ".concat(l?"selected":"")},c.a.createElement("img",{src:t.detail&&t.detail.image||t.image,alt:t.name}),l&&c.a.createElement("div",{className:"flower"}))))},he=function(){var e=Object($.c)(V).all_affection,t=Object($.c)(Q),n=Object($.c)(U),r=Object($.c)(F),i=Object($.c)(Y),o=Object($.c)(z),m=Object(a.useState)([]),v=Object(h.a)(m,2),f=v[0],g=v[1],E=Object(a.useState)(new Set),b=Object(h.a)(E,2),O=b[0],N=b[1],y=Object($.b)(),k=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(x+"?type=INEVENT");case 2:(t=e.sent)&&"successful"==t.status&&g(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k()}),[0]);var j,w=0,_=Object(l.a)(f.filter((function(e){return O.has(e.id)})));try{for(_.s();!(j=_.n()).done;){var C=j.value;C.detail.main_character_id===t.id?w+=e[C.detail.level].main:w+=e[C.detail.level].other}}catch(L){_.e(L)}finally{_.f()}console.log("point",w);var S=function(e){var n=new Set(O);if(n.has(e.id))n.delete(e.id);else{if(t.user_point+w>=o)return fe("\u0110\xe3 ch\u1ecdn \u0111\u1ee7 l\u01b0\u1ee3ng \u0111i\u1ec3m t\u1ed1i \u0111a",!1),!1;n.add(e.id)}N(n)},T=function(){var e=Object(u.a)(s.a.mark((function e(){var n,a,c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=O.size){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fe("X\xe1c nh\u1eadn t\u1eb7ng ".concat(w," \u0111i\u1ec3m cho ").concat(t.name));case 4:if(!e.sent){e.next=12;break}return n=Array.from(O),e.next=8,R(H,{body:{ids:JSON.stringify(n),character_id:t.id}});case 8:if(a=e.sent){e.next=11;break}return e.abrupt("return");case 11:"successful"==a.status?(c=a.payload.level_reward.length>0?"T\u1eb7ng qu\xe0 th\xe0nh c\xf4ng! \u0110\u1ed9 th\xe2n thi\u1ec7n t\u0103ng th\xeam ".concat(a.payload.added_point," \u0111i\u1ec3m v\xe0 nh\u1eadn \u0111\u01b0\u1ee3c"):"T\u1eb7ng qu\xe0 th\xe0nh c\xf4ng! \u0110\u1ed9 th\xe2n thi\u1ec7n t\u0103ng th\xeam ".concat(a.payload.added_point," \u0111i\u1ec3m"),ve(a.payload.level_reward,c),r=f.filter((function(e){return!n.includes(e.id)})),N(new Set),g(r),y(I(t.id,a.payload.point))):D(a.error_code);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"champion-popup"},c.a.createElement("div",{className:"left-side"},c.a.createElement("div",{className:"champion-img"},c.a.createElement("img",{src:t.image_popup})),c.a.createElement("div",{className:"champion-name"},t.name),c.a.createElement("div",{className:"champion-favor-progress favor-".concat(i)}),c.a.createElement("div",{className:"point-progress"},t.user_point,"/",r)),c.a.createElement("div",{className:"right-side"},c.a.createElement("div",{className:"up"},c.a.createElement(d,null,c.a.createElement("div",{className:"inventory-list"},f.map((function(e,t){return c.a.createElement(me,{key:e.id,item:e,clickReward:S})}))))),c.a.createElement("div",{className:"down"},n<o&&c.a.createElement(p,{point:w,onClick:T}))),c.a.createElement(le,null))},de=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(new Set),l=Object(h.a)(i,2),o=l[0],m=l[1],v=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(x+"?type=ITEM");case 2:(t=e.sent)&&"successful"==t.status&&r(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v()}),[0]);var p=function(e){var t=o;t.has(e.id)?t.delete(e.id):t.add(e.id),m(t)},f=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=o.size){e.next=2;break}return e.abrupt("return");case 2:return t=function(){return c.a.createElement("div",{className:""},c.a.createElement("p",null,"G\u1eedi nh\u1eefng v\u1eadt ph\u1ea9m \u0111\xe3 ch\u1ecdn v\u1ec1 t\xe0i kho\u1ea3n?"))},e.next=5,fe(c.a.createElement(t,null));case 5:if(!e.sent){e.next=13;break}return a=Array.from(o),e.next=9,R(S,{body:{ids:JSON.stringify(a)}});case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:"successful"==i.status?(fe("Nh\u1eadn qu\xe0 th\xe0nh c\xf4ng",!1),l=n.filter((function(e){return!a.includes(e.id)})),m(new Set),r(l)):D(i.error_code);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=o.size){e.next=2;break}return e.abrupt("return");case 2:if(o.size%3==0){e.next=5;break}return fe("S\u1ed1 l\u01b0\u1ee3ng v\u1eadt ph\u1ea9m \u0111\u01b0\u1ee3c ch\u1ecdn c\u1ea7n chia h\u1ebft cho 3",!1),e.abrupt("return");case 5:return e.next=7,fe("\u0110\u1ed5i nh\u1eefng v\u1eadt ph\u1ea9m \u0111\xe3 ch\u1ecdn?");case 7:if(!e.sent){e.next=15;break}return t=Array.from(o),e.next=11,R(T,{body:{ids:JSON.stringify(t)}});case 11:if(a=e.sent){e.next=14;break}return e.abrupt("return");case 14:"successful"==a.status?(ve(a.payload.random_items),c=n.filter((function(e){return!t.includes(e.id)})),m(new Set),r(c)):D(a.error_code);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"inventory-popup"},c.a.createElement("div",{className:"inventory-popup-content"},c.a.createElement("div",{className:"title"},"KHO \u0110\u1ed2"),c.a.createElement("div",{className:"reward-list"},c.a.createElement(d,null,c.a.createElement("div",{className:"inventory-list"},n.map((function(e,t){return c.a.createElement(me,{key:e.id,item:e,clickReward:p})}))))),c.a.createElement("div",{className:"btn-list"},c.a.createElement("div",{className:"side"},c.a.createElement(ne,{title:"G\u1eedi nh\u1eefng \u0111\u1ed3 b\u1ea1n \u0111\xe3 ch\u1ecdn v\xe0o t\xe0i kho\u1ea3n",description:"Qu\xe1 tr\xecnh n\xe0y c\xf3 th\u1ec3 m\u1ea5t t\u1ed1i \u0111a 1 ng\xe0y"},c.a.createElement("div",{className:"question-mark left"})),c.a.createElement("div",{className:"btn-send",onClick:f},"g\u1eedi v\u1ec1 t\xe0i kho\u1ea3n")),c.a.createElement("div",{className:"side"},c.a.createElement("div",{className:"btn-exchange",onClick:g},"\u0111\u1ed5i t\u1eb7ng ph\u1ea9m"),c.a.createElement(ne,{title:"\u0110\u1ed5i 3 \u0111\u1ed3 th\xe0nh 1 t\u1eb7ng ph\u1ea9m c\u1ea5p 3 ng\u1eabu nhi\xean",description:"T\u1eb7ng ph\u1ea9m d\xf9ng \u0111\u1ec3 t\u0103ng \u0111\u1ed9 th\xe2n thi\u1ec7n cho nh\xe2n v\u1eadt"},c.a.createElement("div",{className:"question-mark left"}))))),c.a.createElement(le,null))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng v\u1eadt ph\u1ea9m sau";re(c.a.createElement(pe,{items:e,title:t}))},pe=function(e){var t=e.items,n=e.title;console.log("items",t);return c.a.createElement("div",{className:"draw-popup"},c.a.createElement("div",{className:"draw-popup-content"},c.a.createElement("div",{className:"title"},n),c.a.createElement("div",{className:"reward-list"},c.a.createElement(d,null,c.a.createElement("div",{className:"inventory-list"},t.map((function(e,t){return c.a.createElement(me,{key:t,item:e})}))))),c.a.createElement(v,{title:"OK",onClick:function(){ie()}})),c.a.createElement(le,null))},fe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(n){console.log("show confirm",e);re(c.a.createElement("div",{className:"confirm"},c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"text"},e),c.a.createElement("div",{className:"title-line"}),c.a.createElement("div",{className:"action-btns"},c.a.createElement(v,{title:"OK",onClick:function(){ie(),n(!0)}}),t&&c.a.createElement(f,{onClick:function(){ie(),n(!1)}}))),c.a.createElement(le,{onClose:function(){return n(!1)}})))}))},ge=function(){var e=Object($.c)(V),t=e.rp,n=e.user;if(!n)return null;return c.a.createElement("div",{className:"bottom-bar"},c.a.createElement("div",{className:"logo"}),c.a.createElement("div",{className:"rp"},c.a.createElement("div",{className:"username"},"XIN CH\xc0O ",n&&n.account_name),c.a.createElement("div",{className:"space"},"|")," ",c.a.createElement("a",{href:"/user/logout"},"\u0110\u0102NG XU\u1ea4T"),c.a.createElement("div",{className:"user-rp"},t),c.a.createElement("div",{className:"rp-plus",onClick:function(){window.open("https://napthe.vn")}})))};n(51);var Ee=function(e){var t=e.hover,n=Object(a.useState)(null),r=Object(h.a)(n,2),i=r[0],l=r[1],o=Object($.c)(V).remain_second;i||null===o||l(o),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){l(i-1)}),1e3);var s=i,u=Math.max(0,Math.floor(s/3600));s%=3600;var m=Math.max(0,Math.floor(s/60)),d=Math.max(0,s%60),v=Object($.c)(V).user;v&&v.account_name;return c.a.createElement("div",{className:"countdown",onMouseEnter:t},"S\u1ef0 KI\u1ec6N K\u1ebeT TH\xdaC SAU ",u,":",m,":",d)},be=(n(52),function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:"character-container"},c.a.createElement(Ne,{isChanging:n,setIsChanging:r}),c.a.createElement(ye,{setIsChanging:r}),c.a.createElement(Oe,null))}),Oe=function(){return c.a.createElement("div",{className:"gift",onClick:function(){re(c.a.createElement(he,null))}})},Ne=function(e){var t=e.isChanging,n=(Object($.b)(),Object(a.useState)(0)),r=Object(h.a)(n,2),i=(r[0],r[1],Object($.c)(Q)),l=Object($.c)(Y),o=Object(a.useState)("hidden"),s=Object(h.a)(o,2),u=s[0],m=s[1],d=Object(a.useState)(50),v=Object(h.a)(d,2),p=v[0],f=v[1],g=Object(a.useState)(50),E=Object(h.a)(g,2),b=E[0],O=E[1],N={top:"".concat(b,"%"),left:"".concat(p,"%"),visibility:u};return c.a.createElement("div",{className:"selected-character ".concat(t?"appear":"")},c.a.createElement("img",{className:"character-img",src:i&&i.image_main,onMouseMove:function(e){var t,n;t=window.innerWidth<=1055?e.clientX/window.innerWidth*100:(e.clientX-(window.innerWidth-1055)/2)/1055*100,n=window.innerWidth<=1055?e.clientY/(638*window.innerWidth/1055)*100:e.clientY/638*100,(Math.abs(t-p)>=2||Math.abs(n-b)>=2)&&(f(t),O(n))},onMouseEnter:function(e){m("visible")},onMouseOut:function(){m("hidden")}}),c.a.createElement("div",{className:"character-tooltip",style:N},c.a.createElement("ul",null,i&&i.level_rewards.map((function(e,t){return c.a.createElement("div",{className:"reward",key:t},c.a.createElement("div",{className:"level level-".concat(e.level)}),c.a.createElement("div",{className:"point"},e.require_point," \u0111i\u1ec3m"),c.a.createElement("img",{src:e.image}))})))),c.a.createElement("div",{className:"favorite-progress favorite-progress-".concat(l)}))},ye=function(e){var t=e.setIsChanging,n=Object($.b)(),r=Object($.c)(V).character_list,i=Object(a.useState)(0),l=Object(h.a)(i,2),o=l[0],s=l[1],u=Object(a.useState)(!1),m=Object(h.a)(u,2),d=m[0],v=m[1],p=Object(a.useState)(null),f=Object(h.a)(p,2),g=f[0],E=f[1];if(null===g&&r.length>0){E(2),v(!0)}Object(a.useEffect)((function(){console.log("run when fetched change",d,g),g&&n(A(r[g].id))}),[d]);var b=function(e){console.log("click pos",e),t(!0),s((function(t){return t+g-e})),setTimeout((function(){E(e),n(A(r[e].id))}),250),setTimeout((function(){t(!1)}),500)};return c.a.createElement("ul",{className:"character-list",style:{transform:"rotate(".concat(30*o,"deg)")}},r.map((function(e,t){return c.a.createElement("div",{key:t,className:"single-character",style:{transform:"rotate(".concat(30*(t+1),"deg)")}},c.a.createElement(ke,{index:t,character:e,nRotate:o,isSelected:t===g,handleClick:b}))})))},ke=function(e){var t=e.character,n=e.index,a=e.nRotate,r=e.handleClick,i=e.isSelected;Object($.b)();return c.a.createElement("div",{className:"character ".concat(i?"active":""),style:{transform:"rotate(".concat(30*-a-30*n-30,"deg)")}},c.a.createElement("div",{className:"name",onClick:function(){return r(n)}},t.name),c.a.createElement("img",{className:"thumbnail",src:t.image_icon,onClick:function(){return r(n)}}))},je=(n(53),function(){var e=Object($.c)(V).price,t=Object($.b)(),n=function(){var n=Object(u.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe("D\xf9ng ".concat(e[a]," RP \u0111\u1ec3 r\xfat ").concat(a," l\u01b0\u1ee3t"),!0);case 2:if(!n.sent){n.next=4;break}t(K(a));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return c.a.createElement("div",{className:"draw-btns"},c.a.createElement(we,{clickDraw:n}),c.a.createElement(_e,{clickDraw:n}))}),we=function(e){var t=e.clickDraw;return c.a.createElement("div",{className:"btn-draw-one",onClick:function(){return t(1)}})},_e=function(e){var t=e.clickDraw;return c.a.createElement("div",{className:"btn-draw-ten",onClick:function(){return t(10)}})},Ce=(n(54),function(){var e=Object($.c)(V).user;return c.a.createElement("div",{className:"menu"},c.a.createElement("div",{className:"menu-btn",onClick:function(){re(c.a.createElement(de,null))}},c.a.createElement("div",{className:"left inventory"}),c.a.createElement("div",{className:"right inventory-hover"})),c.a.createElement("div",{className:"menu-btn",onClick:function(){oe("TH\u1ec2 L\u1ec6",c.a.createElement(se,null))}},c.a.createElement("div",{className:"left rule"}),c.a.createElement("div",{className:"right rule-hover"})),c.a.createElement("div",{className:"menu-btn",onClick:function(){oe("L\u1ecaCH S\u1eec",c.a.createElement(ue,null))}},c.a.createElement("div",{className:"left history"}),c.a.createElement("div",{className:"right history-hover"})),c.a.createElement("div",{className:"menu-btn",onClick:function(){window.location="/user/login"},style:{visibility:e?"hidden":""}},c.a.createElement("div",{className:"left login"}),c.a.createElement("div",{className:"right login-hover"})))}),xe=function(){var e=Object($.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(_);case 2:if(a=e.sent,console.log("data",a),a){e.next=6;break}return e.abrupt("return");case 6:t({type:"LOAD_CONFIG",payload:a.payload});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[0]),0===Object($.c)(X).length?c.a.createElement("div",{className:"App",style:{justifyContent:"center",display:"flex",alignItems:"center"}},c.a.createElement("div",{className:"loader"})):c.a.createElement("div",{className:"App"},c.a.createElement(be,null),c.a.createElement(Ee,null),c.a.createElement(je,null),c.a.createElement(Ce,null),c.a.createElement(ge,null),c.a.createElement(ce,null),c.a.createElement(te,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(4),Te=n(11);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement($.a,{store:J},c.a.createElement(Te.a,null,c.a.createElement(Se.c,null,c.a.createElement(Se.a,{path:"/"},c.a.createElement(xe,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.b2b462d8.chunk.js.map